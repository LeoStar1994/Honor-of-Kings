(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-541a6d72"],{"7f7f":function(t,e,a){var r=a("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&r(n,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},f84b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"广告"}},[a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.model.items.push({})}}},[a("i",{staticClass:"el-icon-plus"}),t._v("添加广告\n      ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,function(e,r){return a("el-col",{key:r,attrs:{md:12}},[a("el-form-item",{attrs:{label:"跳转链接(url)"}},[a("el-input",{staticStyle:{"margin-top":"1rem"},attrs:{placeholder:"请输入跳转链接"},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1),a("el-form-item",{staticStyle:{"margin-top":"1rem"},attrs:{label:"图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":function(a){return t.$set(e,"image",a.url)},accept:"image/*"}},[e.image?a("img",{staticClass:"avatar",attrs:{src:e.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{staticStyle:{"padding-left":"120px"}},[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(){return t.model.items.splice(r,1)}}},[t._v("删除\n            ")])],1)],1)}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存\n      ")])],1)],1)],1)},n=[],s=(a("7f7f"),a("96cf"),a("3b8d")),i={props:{id:{type:String}},data:function(){return{model:{items:[],name:""}}},methods:{save:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.model.items.length){t.next=5;break}return this.$message.warning("请先添加广告再保存"),t.abrupt("return");case 5:if(this.model.name){t.next=8;break}return this.$message.warning("请先输入分类名称再保存"),t.abrupt("return");case 8:if(!this.id){t.next=14;break}return t.next=11,this.$http.put("rest/ads/".concat(this.id),this.model);case 11:e=t.sent,t.next=17;break;case 14:return t.next=16,this.$http.post("rest/ads",this.model);case 16:e=t.sent;case 17:this.$router.push("/ads/list"),200===e.status&&this.$message({type:"success",message:"保存成功"});case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetch:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rest/ads/".concat(this.id));case 2:e=t.sent,this.model=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.id&&this.fetch()}},l=i,c=a("2877"),u=Object(c["a"])(l,r,n,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-541a6d72.bb900fed.js.map